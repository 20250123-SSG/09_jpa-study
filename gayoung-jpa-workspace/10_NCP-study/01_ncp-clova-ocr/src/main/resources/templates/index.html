<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
  <h2> 네이버 클로바 OCR </h2>

  <form id="ocr-form">
    <select name="type">
      <option value="general">일반</option>
      <option value="template">템플릿</option>
    </select>
    <input type="file" name="file" accept="image/*" required>
    <input type="button" value="판독요청">
  </form>

  <h3>OCR 결과</h3>
  <div id="result">판독 전입니다.</div>

  <!--
           multipart/form-data                   multipart/form-data
               type, file             저장               file
   client <=======================>   app  <=============================> NCP OCR API
                 text                                  text

   -->

  <script>
    document.getElementById('ocr-btn').addEventListener('click', (e) => {
      // multipart/form-data 비동기 요청
      let formData = new FormData(document.getElementById('ocr-form'));

      fetch( '[[@{/upload}]]', {
        method: 'POST',
        body: formData
      })
    })
  </script>
</body>
</html>
























